{"version":3,"sources":["webpack:///./assets/js/theme/common/models/forms.js","webpack:///./assets/js/theme/contact-us.js"],"names":["forms","email","value","re","test","password","notEmpty","length","Instafeed","require","ContactUs","onReady","registerContactFormValidation","formSelector","contactUsValidator","nod","submit","$contactForm","$","add","selector","validate","cb","val","result","errorMessage","context","contactEmail","contactQuestion","on","performCheck","areAll","event","preventDefault","showInstagramFeed","instagramAccessToken","instafeed","accessToken","resolution","imageTemplate","videoTemplate","run","PageManager"],"mappings":";;;;;;;;;;AAAA;AAAA,IAAMA,QAAQ;AACVC,SADU,iBACJC,KADI,EACG;AACT,YAAMC,KAAK,YAAX;AACA,eAAOA,GAAGC,IAAH,CAAQF,KAAR,CAAP;AACH,KAJS;;;AAMV;;;;;AAKAG,YAXU,oBAWDH,KAXC,EAWM;AACZ,eAAO,KAAKI,QAAL,CAAcJ,KAAd,CAAP;AACH,KAbS;;;AAeV;;;;;;AAMAI,YArBU,oBAqBDJ,KArBC,EAqBM;AACZ,eAAOA,MAAMK,MAAN,GAAe,CAAtB;AACH;AAvBS,CAAd;;AA0BeP,oEAAf,E;;;;;;;;;;;;;;;;;;;;;;;;AC1BA;AACA;AACA;AACA;AACA,IAAMQ,YAAYC,mBAAOA,CAAC,2EAAR,CAAlB;;IAEqBC,S;;;;;;;;;wBACjBC,O,sBAAU;AACN,aAAKC,6BAAL;AACH,K;;wBAEDA,6B,4CAAgC;AAC5B,YAAMC,eAAe,yBAArB;AACA,YAAMC,qBAAqBC,2DAAGA,CAAC;AAC3BC,oBAAWH,YAAX;AAD2B,SAAJ,CAA3B;AAGA,YAAMI,eAAeC,6CAACA,CAACL,YAAF,CAArB;;AAEAC,2BAAmBK,GAAnB,CAAuB,CACnB;AACIC,sBAAaP,YAAb,iCADJ;AAEIQ,sBAAU,kBAACC,EAAD,EAAKC,GAAL,EAAa;AACnB,oBAAMC,SAASxB,4DAAKA,CAACC,KAAN,CAAYsB,GAAZ,CAAf;;AAEAD,mBAAGE,MAAH;AACH,aANL;AAOIC,0BAAc,KAAKC,OAAL,CAAaC;AAP/B,SADmB,EAUnB;AACIP,sBAAaP,YAAb,uCADJ;AAEIQ,sBAAU,kBAACC,EAAD,EAAKC,GAAL,EAAa;AACnB,oBAAMC,SAASxB,4DAAKA,CAACM,QAAN,CAAeiB,GAAf,CAAf;;AAEAD,mBAAGE,MAAH;AACH,aANL;AAOIC,0BAAc,KAAKC,OAAL,CAAaE;AAP/B,SAVmB,CAAvB;;AAqBAX,qBAAaY,EAAb,CAAgB,QAAhB,EAA0B,iBAAS;AAC/Bf,+BAAmBgB,YAAnB;;AAEA,gBAAIhB,mBAAmBiB,MAAnB,CAA0B,OAA1B,CAAJ,EAAwC;AACpC;AACH;;AAEDC,kBAAMC,cAAN;AACH,SARD;;AAUA,YAAI,KAAKP,OAAL,CAAaQ,iBAAb,IAAkC,KAAKR,OAAL,CAAaS,oBAAnD,EAAyE;AACrE,gBAAMC,YAAY,IAAI5B,SAAJ,CAAc;AAC5B6B,6BAAa,KAAKX,OAAL,CAAaS,oBADE;AAE5BG,4BAAY,qBAFgB;AAG5BC,+BAAe,iUAHa;AAI5BC,+BAAe;AACf;AAL4B,aAAd,CAAlB;;AAQAJ,sBAAUK,GAAV;AACH;AACJ,K;;;EAtDkCC,qD;;AAAlBhC,wE","file":"theme-bundle.chunk.10.js","sourcesContent":["const forms = {\n    email(value) {\n        const re = /^.+@.+\\..+/;\n        return re.test(value);\n    },\n\n    /**\n     * Validates a password field\n     * @param value\n     * @returns {boolean}\n     */\n    password(value) {\n        return this.notEmpty(value);\n    },\n\n    /**\n     * validates if a field is empty\n     * @param value\n     * @returns {boolean}\n     *\n     */\n    notEmpty(value) {\n        return value.length > 0;\n    },\n};\n\nexport default forms;\n","import PageManager from './page-manager';\nimport nod from './common/nod';\nimport $ from 'jquery';\nimport forms from './common/models/forms';\nconst Instafeed = require('./custom/instagram-feed');\n\nexport default class ContactUs extends PageManager {\n    onReady() {\n        this.registerContactFormValidation();\n    }\n\n    registerContactFormValidation() {\n        const formSelector = 'form[data-contact-form]';\n        const contactUsValidator = nod({\n            submit: `${formSelector} input[type=\"submit\"]`,\n        });\n        const $contactForm = $(formSelector);\n\n        contactUsValidator.add([\n            {\n                selector: `${formSelector} input[name=\"contact_email\"]`,\n                validate: (cb, val) => {\n                    const result = forms.email(val);\n\n                    cb(result);\n                },\n                errorMessage: this.context.contactEmail,\n            },\n            {\n                selector: `${formSelector} textarea[name=\"contact_question\"]`,\n                validate: (cb, val) => {\n                    const result = forms.notEmpty(val);\n\n                    cb(result);\n                },\n                errorMessage: this.context.contactQuestion,\n            },\n        ]);\n\n        $contactForm.on('submit', event => {\n            contactUsValidator.performCheck();\n\n            if (contactUsValidator.areAll('valid')) {\n                return;\n            }\n\n            event.preventDefault();\n        });\n\n        if (this.context.showInstagramFeed && this.context.instagramAccessToken) {\n            const instafeed = new Instafeed({\n                accessToken: this.context.instagramAccessToken,\n                resolution: 'standard_resolution',\n                imageTemplate: '<div class=\\\"instagramFeed-post\\\"><a href=\\\"{{link}}\\\" target=\"_blank\"><img src=\\\"{{model.images.standard_resolution.url}}\\\"><div class=\\\"instagramFeed-meta\\\"><div class=\\\"instagramFeed-caption\\\">{{caption}} <span class=\\\"instagramFeed-likes\\\"><i class=\\\"far fa-heart\\\"></i> {{likes}}</span></div></div></div></a></div>',\n                videoTemplate: '<div class=\\\"instagramFeed-post\\\"><a href=\\\"{{link}}\\\" target=\"_blank\"><img src=\\\"{{model.images.standard_resolution.url}}\\\"><div class=\\\"instagramFeed-meta\\\"><div class=\\\"instagramFeed-caption\\\">{{caption}} <span class=\\\"instagramFeed-likes\\\"><i class=\\\"far fa-heart\\\"></i> {{likes}}</span></div></div></div></a></div>',\n                // filter: (image) => image.type.indexOf('image') >= 0,\n            });\n\n            instafeed.run();\n        }\n    }\n}\n"],"sourceRoot":""}