{"version":3,"sources":["webpack:///./assets/js/theme/category.js"],"names":["Instafeed","require","Category","onReady","$","length","initFacetedSearch","onSortBySubmit","bind","hooks","on","context","showInstagramFeed","instagramAccessToken","instafeed","accessToken","resolution","imageTemplate","videoTemplate","run","$productListingContainer","$facetedSearchContainer","productsPerPage","categoryProductsPerPage","requestOptions","config","category","shop_by_price","products","limit","template","productListing","sidebar","showMore","facetedSearch","FacetedSearch","content","html","animate","scrollTop","CatalogPage"],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA,IAAMA,YAAYC,mBAAOA,CAAC,2EAAR,CAAlB;;IAEqBC,Q;;;;;;;;;uBACjBC,O,sBAAU;AACN,YAAIC,6CAACA,CAAC,gBAAF,EAAoBC,MAApB,GAA6B,CAAjC,EAAoC;AAChC,iBAAKC,iBAAL;AACH,SAFD,MAEO;AACH,iBAAKC,cAAL,GAAsB,KAAKA,cAAL,CAAoBC,IAApB,CAAyB,IAAzB,CAAtB;AACAC,4EAAKA,CAACC,EAAN,CAAS,kBAAT,EAA6B,KAAKH,cAAlC;AACH;AACD,YAAI,KAAKI,OAAL,CAAaC,iBAAb,IAAkC,KAAKD,OAAL,CAAaE,oBAAnD,EAAyE;AACrE,gBAAMC,YAAY,IAAId,SAAJ,CAAc;AAC5Be,6BAAa,KAAKJ,OAAL,CAAaE,oBADE;AAE5BG,4BAAY,qBAFgB;AAG5BC,+BAAe,iUAHa;AAI5BC,+BAAe;AACf;AAL4B,aAAd,CAAlB;;AAQAJ,sBAAUK,GAAV;AACH;AACJ,K;;uBAEDb,iB,gCAAoB;AAChB,YAAMc,2BAA2BhB,6CAACA,CAAC,4BAAF,CAAjC;AACA,YAAMiB,0BAA0BjB,6CAACA,CAAC,2BAAF,CAAhC;AACA,YAAMkB,kBAAkB,KAAKX,OAAL,CAAaY,uBAArC;AACA,YAAMC,iBAAiB;AACnBC,oBAAQ;AACJC,0BAAU;AACNC,mCAAe,IADT;AAENC,8BAAU;AACNC,+BAAOP;AADD;AAFJ;AADN,aADW;AASnBQ,sBAAU;AACNC,gCAAgB,0BADV;AAENC,yBAAS;AAFH,aATS;AAanBC,sBAAU;AAbS,SAAvB;;AAgBA,aAAKC,aAAL,GAAqB,IAAIC,8DAAJ,CAAkBX,cAAlB,EAAkC,UAACY,OAAD,EAAa;AAChEhB,qCAAyBiB,IAAzB,CAA8BD,QAAQL,cAAtC;AACAV,oCAAwBgB,IAAxB,CAA6BD,QAAQJ,OAArC;;AAEA5B,yDAACA,CAAC,YAAF,EAAgBkC,OAAhB,CAAwB;AACpBC,2BAAW;AADS,aAAxB,EAEG,GAFH;AAGH,SAPoB,CAArB;AAQH,K;;;EAjDiCC,gD;;AAAjBtC,uE","file":"theme-bundle.chunk.16.js","sourcesContent":["import { hooks } from '@bigcommerce/stencil-utils';\nimport CatalogPage from './catalog';\nimport $ from 'jquery';\nimport FacetedSearch from './common/faceted-search';\nconst Instafeed = require('./custom/instagram-feed');\n\nexport default class Category extends CatalogPage {\n    onReady() {\n        if ($('#facetedSearch').length > 0) {\n            this.initFacetedSearch();\n        } else {\n            this.onSortBySubmit = this.onSortBySubmit.bind(this);\n            hooks.on('sortBy-submitted', this.onSortBySubmit);\n        }\n        if (this.context.showInstagramFeed && this.context.instagramAccessToken) {\n            const instafeed = new Instafeed({\n                accessToken: this.context.instagramAccessToken,\n                resolution: 'standard_resolution',\n                imageTemplate: '<div class=\\\"instagramFeed-post\\\"><a href=\\\"{{link}}\\\" target=\"_blank\"><img src=\\\"{{model.images.standard_resolution.url}}\\\"><div class=\\\"instagramFeed-meta\\\"><div class=\\\"instagramFeed-caption\\\">{{caption}} <span class=\\\"instagramFeed-likes\\\"><i class=\\\"far fa-heart\\\"></i> {{likes}}</span></div></div></div></a></div>',\n                videoTemplate: '<div class=\\\"instagramFeed-post\\\"><a href=\\\"{{link}}\\\" target=\"_blank\"><img src=\\\"{{model.images.standard_resolution.url}}\\\"><div class=\\\"instagramFeed-meta\\\"><div class=\\\"instagramFeed-caption\\\">{{caption}} <span class=\\\"instagramFeed-likes\\\"><i class=\\\"far fa-heart\\\"></i> {{likes}}</span></div></div></div></a></div>',\n                // filter: (image) => image.type.indexOf('image') >= 0,\n            });\n\n            instafeed.run();\n        }\n    }\n\n    initFacetedSearch() {\n        const $productListingContainer = $('#product-listing-container');\n        const $facetedSearchContainer = $('#faceted-search-container');\n        const productsPerPage = this.context.categoryProductsPerPage;\n        const requestOptions = {\n            config: {\n                category: {\n                    shop_by_price: true,\n                    products: {\n                        limit: productsPerPage,\n                    },\n                },\n            },\n            template: {\n                productListing: 'category/product-listing',\n                sidebar: 'category/sidebar',\n            },\n            showMore: 'category/show-more',\n        };\n\n        this.facetedSearch = new FacetedSearch(requestOptions, (content) => {\n            $productListingContainer.html(content.productListing);\n            $facetedSearchContainer.html(content.sidebar);\n\n            $('html, body').animate({\n                scrollTop: 0,\n            }, 100);\n        });\n    }\n}\n"],"sourceRoot":""}